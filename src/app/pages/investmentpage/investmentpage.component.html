<div class="mt-20 sm:mt-20">
  <!-- <div>gf</div> -->
</div>

<div class="items-center justify-center flex m-5 ">


  <div
    class="w-[800px] p-4 text-center bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
    <h5 class="mb-2 text-3xl font-bold text-featurech-bg dark:text-white">Investments</h5>
    <p class="mb-5 text-base text-gray-500 sm:text-lg dark:text-gray-400">Investments are essential for growing your
      wealth and achieving financial goals. By allocating funds to various assets, you can earn returns over time,
      diversify risk, and plan for future needs. Investments help build a secure financial future, fund major life
      events, and combat inflation, making them a key component of a successful financial strategy.</p>
    <div class="items-center justify-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4 rtl:space-x-reverse">
      <div
        class="w-full sm:w-auto bg-home-bg hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-300 text-white rounded-lg inline-flex items-center justify-center px-4 py-3 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700">

        <div class="text-left rtl:text-right">
          <div class="-mt-1 font-sans text-sm font-semibold" (click)="openAddInvestDialogBox()" >Create Investment Goal</div>
        </div>
      </div>

    </div>
  </div>

</div>

<div class="flex justify-center items-center ">
  <div class="" >
    <div class="grid   gap-4  grid-cols-1  md:grid-cols-2">


      @for (investment of investments; track $index) {
        <div>
          <div
            class="block w-[350px] p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
            <div>
              <p class="uppercase text-sm text-featurech-bg me-2 font-bold">{{investment.title}} </p>

            <p>Goal amount : {{investment.investmentAmtGoal}}</p>
            <p>Amount invested : {{investment.amtInvested }}</p>
            <p>Remaing : {{investment.investmentAmtGoal - investment.amtInvested}}</p>
            <div class="w-full mt-4 bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
              <div class="bg-home-bg h-2.5 rounded-full" [ngStyle]= "{width : ((investment.amtInvested*100)/investment.investmentAmtGoal)+ '%' }"></div>
            </div>

            @if ( ((investment.amtInvested)/investment.amtInvested) > 100) {
              <p class="text-right mt-2 text-red-300">*limit exceded </p>
            }
            <div class="flex ">
              <a class=" m-2 font-medium text-blue-600 dark:text-blue-500 hover:underline" (click)="openUpdateInvestDialogBox(investment.id) ">Update</a>
                <a  class="m-2 font-medium text-blue-600 dark:text-blue-500 hover:underline " (click)="deleteInvestment(investment.id )">Delete</a>
            </div>
            </div>
          </div>
        </div>
      }

    </div>
  </div>
</div>



@if (openAddInvestDialog) {
  <app-create-investment (closeInvestDialog)="closeInvestDialogBox($event)"></app-create-investment>
}


@if (openUpdateInvestDialog) {
  <app-update-investment [investId]="investId" (closeUpdateInvestDialog)="closeUpdateInvestDialogBox($event)"></app-update-investment>
}
